/* `webpack.config.dist.min` should be used to statically build the a minified version of the distributed library files. */

const webpack = require('webpack');
const baseConfig = require('./webpack.config.dist');

const config = baseConfig;

config.plugins.push(new webpack.optimize.UglifyJsPlugin({
	mangle: {
		except: ['$', 'exports', 'require']
	}
}));

// Remove unreachable code and development warnings
config.plugins.push(new webpack.DefinePlugin({
	'process.env': { NODE_ENV: JSON.stringify('production') }
}));

config.output.filename = '[name].min.js';	// [name] is config.entry object keys

module.exports = config;
